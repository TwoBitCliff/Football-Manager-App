{% extends 'base.html' %}
{% block content %}

<div class="row">
    <div class="col s12 m6 offset-m3">

        <div class="row card-panel teal">
            <form action="{{ url_for('search_player') }}" method="post" class="col s12">
                <div class="row valign-wrapper center-align">
                    <div class="input-field col s12 m10">
                        <input type="text" name="search" id="search" minlength="2" class="validate" required>
                        <label for="search">Search Players</label>
                    </div>
                    <div class="col s12 m4">
                        <button type="submit" class="teal darken-1 btn">
                            <i class="fas fa-search"></i>
                        </button>
                        <a href="{{ url_for('get_squad') }}" class="teal darken-1 btn"><i class="fas fa-redo"></i></a>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <div class="row">
        <div class="col m10 offset-m1 s12">
            <table>
                <thead>
                    <tr>
                        <th></th>
                        <th>First Name</th>
                        <th>Last Name</th>
                        <th class="hidden">Age</th>
                        <th>Position</th>
                        <th class="hidden">Foot</th>
                        <th>Apps</th>
                        <th>Goals</th>
                        <th class="hidden">Assists</th>
                        <th><i class="fas fa-square red-card fa-2x"></i></th>
                        <th><i class="fas fa-square yellow-card fa-2x"></i></th>
                        <th class="hidden">Injued</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Create a way for on created_by user players to be shown -->
                    {% for player in squad %}
                    {% if session.user|lower == player.created_by|lower %}
                    <tr>
                        <td>
                            <!-- Modal Trigger -->
                            <!-- <a href="{{ url_for('update_player', player_id=player._id) }}"><button data-target="modal1" class="btn modal-trigger"><i
                                    class="far fa-edit"></i></button>
                        </a> -->
                            <a href="{{ url_for('update_player', player_id=player._id) }}" class="btn"><i
                                    class="fas fa-user-edit"></i></a>
                            <a href="{{ url_for('delete_player', player_id=player._id) }}" class="btn"><i
                                    class="fas fa-user-times"></i></a></td>
                        <td>{{ player.first_name.capitalize() }}</td>
                        <td>{{ player.last_name.capitalize() }}</td>
                        <td class="hidden">{{ player.age }}</td>
                        <td>{{ player.position }}</td>
                        <td class="hidden">{{ player.foot }}</td>
                        <td>{{ player.played }}</td>
                        <td>{{ player.goals }}</td>
                        <td class="hidden">{{ player.assists }}</td>
                        <td>{{ player.yellow }}</td>
                        <td>{{ player.red }}</td>
                        <td class="hidden">
                            {% if player.injured == "on" %}
                            <i class="fas fa-user-injured fa-2x injured"></i>
                            {% else %}
                            <i class="fas fa-user-injured fa-2x uninjuerd"></i>
                            {% endif %}

                        </td>
                    </tr>
                    {% endif %}

                    {% endfor %}

                </tbody>

            </table>

        </div>
    </div>
    <div class="container">
        <ul class="collapsible">
            <li>
                <div class="collapsible-header">Register Player</div>
                <div class="collapsible-body">
                    <form class="col s12" method="POST" action="{{ url_for('add_player') }}">
                        <div class="row">
                            <div class="input-field col s6">
                                <input placeholder="Arsène" name="first_name" id="first_name" type="text"
                                    class="validate">
                                <label for="first_name">First Name</label>
                            </div>
                            <div class="input-field col s6">
                                <input placeholder="Wenger" name="last_name" id="last_name" type="text"
                                    class="validate">
                                <label for="last_name">Last Name</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="input-field col s4">
                                <input placeholder="28" name="age" id="age" type="number" class="validate">
                                <label for="age">Age</label>
                            </div>

                            <div class="input-field col s4">
                                <input placeholder="STR" name="position" id="position" type="text" class="validate">
                                <label for="position">Position</label>
                            </div>

                            <div class="input-field col s4">
                                <input placeholder="Right" name="foot" id="foot" type="text" class="validate">
                                <label for="foot">Foot</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="input-field col s4">
                                <input placeholder="0" name="played" id="played" type="text" class="validate">
                                <label for="played">Appearances</label>
                            </div>

                            <div class="input-field col s4">
                                <input placeholder="0" name="goals" id="goals" type="text" class="validate">
                                <label for="goals">Goals</label>
                            </div>

                            <div class="input-field col s4">
                                <input placeholder="0" name="assists" id="assists" type="text" class="validate">
                                <label for="assists">Assists</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="input-field col s4">
                                <input placeholder="0" name="red" id="red" type="text" class="validate">
                                <label for="red">Red Cards</label>
                            </div>

                            <div class="input-field col s4">
                                <input placeholder="0" name="yellow" id="yellow" type="text" class="validate">
                                <label for="yellow">Yellow Cards</label>
                            </div>

                            <div class="input-field col s4">
                                <div class="switch">
                                    <label for="injured">
                                        <input type="checkbox" id="injured" name="injured">
                                        <span class="lever"></span>
                                        Injured?
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="input-field col s6">
                                <input placeholder="01234567891" name="contact_number" id="contact_number" type="tel"
                                    class="validate">
                                <label for="contact_number">Contact Number</label>
                            </div>

                            <div class="input-field col s6">
                                <input placeholder="a.wenger@arsenal.co.uk" name="email" id="email" type="email"
                                    class="validate">
                                <label for="email">Email</label>
                            </div>
                        </div>
                        <div class="row">
                            <button type="submit" class="col s12 btn-large teal darken-1">
                                Register
                            </button>
                        </div>

                    </form>
                </div>
            </li>

        </ul>
    </div>


    <!-- Modal Structure -->
    <!-- <div id="modal1" class="modal">
    <div class="modal-content">
        <form class="col s12" method="POST" action="#">
                    <div class="row">
                        <div class="input-field col s6">
                            <input placeholder="Arsène" name="first_name_update" id="first_name_update" type="text" class="validate">
                            <label for="first_name_update">First Name</label>
                        </div>
                        <div class="input-field col s6">
                            <input placeholder="Wenger" name="last_name_update" id="last_name_update" type="text" class="validate">
                            <label for="last_name_update">Last Name</label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="input-field col s4">
                            <input placeholder="28" name="age_update" id="age_update" type="number" class="validate">
                            <label for="age_update">Age</label>
                        </div>

                        <div class="input-field col s4">
                            <input placeholder="STR" name="position_update" id="position_update" type="text" class="validate">
                            <label for="position_update">Position</label>
                        </div>

                        <div class="input-field col s4">
                            <input placeholder="Right" name="foo_updatet" id="foot_update" type="text" class="validate">
                            <label for="foot_update">Foot</label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="input-field col s4">
                            <input placeholder="0" name="played_update" id="played_update" type="text" class="validate">
                            <label for="played_update">Appearances</label>
                        </div>

                        <div class="input-field col s4">
                            <input placeholder="0" name="goals_update" id="goals_update" type="text" class="validate">
                            <label for="goals_update">Goals</label>
                        </div>

                        <div class="input-field col s4">
                            <input placeholder="0" name="assists_update" id="assists_update" type="text" class="validate">
                            <label for="assists_update">Assists</label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="input-field col s4">
                            <input placeholder="0" name="red_update" id="red_update" type="text" class="validate">
                            <label for="red_update">Red Cards</label>
                        </div>

                        <div class="input-field col s4">
                            <input placeholder="0" name="yellow_update" id="yellow_update" type="text" class="validate">
                            <label for="yellow_update">Yellow Cards</label>
                        </div>

                        <div class="input-field col s4">
                            <div class="switch">
                                <label for="injured">
                                    <input type="checkbox" id="injured_update" name="injured_update">
                                    <span class="lever_update"></span>
                                    Injured?
                                </label>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="input-field col s6">
                            <input placeholder="01234567891" name="contact_number_update" id="contact_number_update" type="tel"
                                class="validate">
                            <label for="contact_number_update">Contact Number</label>
                        </div>

                        <div class="input-field col s6">
                            <input placeholder="a.wenger@arsenal.co.uk" name="email_update" id="email_update" type="email"
                                class="validate">
                            <label for="email_update">Email</label>
                        </div>
                    </div>
                    <div class="row">
                        <button type="submit" class="col s12 btn-large teal darken-1">
                            Update
                        </button>
                    </div>

                </form>
            <div class="modal-footer">
                <a href="#!" class="modal-close waves-effect waves-green btn-flat">Cancel</a>
            </div> -->
    {% endblock %}